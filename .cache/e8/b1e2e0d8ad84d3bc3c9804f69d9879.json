{"id":"EVxB","dependencies":[{"name":"/home/iola/projects/cloud/tsconfig.json","includedInParent":true,"mtime":1571148084523},{"name":"/home/iola/projects/cloud/package.json","includedInParent":true,"mtime":1571155571816}],"generated":{"js":"\"use strict\";var t=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))(function(r,o){function u(t){try{s(i.next(t))}catch(e){o(e)}}function a(t){try{s(i.throw(t))}catch(e){o(e)}}function s(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(u,a)}s((i=i.apply(t,e||[])).next())})},e=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(exports,\"__esModule\",{value:!0});const n=e(require(\"express\")),i=e(require(\"axios\")),r=n.default();function o(e,n){return t(this,void 0,void 0,function*(){let t=`https://api.darksky.net/forecast/94b94c1b80852a2bac43f4432546fea3/${e},${n}`,{data:r}=(yield i.default.get(t).catch(console.log))||{},{icon:o}=r.currently||{};return o})}function u(e,n){return t(this,void 0,void 0,function*(){let{query:t}=e,i=parseFloat(t.longitude),r=parseFloat(t.latitude);if(isNaN(i)||isNaN(r))return void n.status(400).send(\"Latitude and longitude must be number\");let u=yield o(r,i);n.send(u)})}exports.get_weather=o,r.get(\"/song\",u),exports.default=r;"},"sourceMaps":{"js":{"mappings":[{"source":"app.ts","name":null,"original":{"line":39,"column":0},"generated":{"line":1,"column":0}},{"source":"app.ts","name":null,"original":{"line":39,"column":0},"generated":{"line":1,"column":13}},{"source":"app.ts","name":null,"original":{"line":39,"column":0},"generated":{"line":1,"column":17}},{"source":"app.ts","name":null,"original":{"line":39,"column":0},"generated":{"line":1,"column":19}},{"source":"app.ts","name":null,"original":{"line":39,"column":0},"generated":{"line":1,"column":25}},{"source":"app.ts","name":null,"original":{"line":39,"column":0},"generated":{"line":1,"column":30}},{"source":"app.ts","name":null,"original":{"line":39,"column":0},"generated":{"line":1,"column":41}},{"source":"app.ts","name":null,"original":{"line":39,"column":0},"generated":{"line":1,"column":50}},{"source":"app.ts","name":null,"original":{"line":39,"column":0},"generated":{"line":1,"column":52}},{"source":"app.ts","name":null,"original":{"line":39,"column":0},"generated":{"line":1,"column":54}},{"source":"app.ts","name":null,"original":{"line":39,"column":0},"generated":{"line":1,"column":56}},{"source":"app.ts","name":null,"original":{"line":39,"column":0},"generated":{"line":1,"column":59}},{"source":"app.ts","name":null,"original":{"line":39,"column":0},"generated":{"line":1,"column":66}},{"source":"app.ts","name":null,"original":{"line":39,"column":0},"generated":{"line":1,"column":70}},{"source":"app.ts","name":null,"original":{"line":39,"column":0},"generated":{"line":1,"column":74}},{"source":"app.ts","name":null,"original":{"line":39,"column":0},"generated":{"line":1,"column":76}},{"source":"app.ts","name":null,"original":{"line":39,"column":0},"generated":{"line":1,"column":86}},{"source":"app.ts","name":null,"original":{"line":39,"column":0},"generated":{"line":1,"column":95}},{"source":"app.ts","name":null,"original":{"line":39,"column":0},"generated":{"line":1,"column":97}},{"source":"app.ts","name":null,"original":{"line":39,"column":0},"generated":{"line":1,"column":100}},{"source":"app.ts","name":null,"original":{"line":39,"column":0},"generated":{"line":1,"column":109}},{"source":"app.ts","name":null,"original":{"line":39,"column":0},"generated":{"line":1,"column":111}},{"source":"app.ts","name":null,"original":{"line":39,"column":0},"generated":{"line":1,"column":114}},{"source":"app.ts","name":null,"original":{"line":39,"column":0},"generated":{"line":1,"column":118}},{"source":"app.ts","name":null,"original":{"line":39,"column":0},"generated":{"line":1,"column":120}},{"source":"app.ts","name":null,"original":{"line":39,"column":0},"generated":{"line":1,"column":122}},{"source":"app.ts","name":null,"original":{"line":39,"column":0},"generated":{"line":1,"column":127}},{"source":"app.ts","name":null,"original":{"line":39,"column":0},"generated":{"line":1,"column":131}},{"source":"app.ts","name":null,"original":{"line":39,"column":0},"generated":{"line":1,"column":137}},{"source":"app.ts","name":null,"original":{"line":39,"column":0},"generated":{"line":1,"column":140}},{"source":"app.ts","name":null,"original":{"line":39,"column":0},"generated":{"line":1,"column":142}},{"source":"app.ts","name":null,"original":{"line":39,"column":0},"generated":{"line":1,"column":146}},{"source":"app.ts","name":null,"original":{"line":39,"column":0},"generated":{"line":1,"column":155}},{"source":"app.ts","name":null,"original":{"line":39,"column":0},"generated":{"line":1,"column":157}},{"source":"app.ts","name":null,"original":{"line":39,"column":0},"generated":{"line":1,"column":160}},{"source":"app.ts","name":null,"original":{"line":39,"column":0},"generated":{"line":1,"column":164}},{"source":"app.ts","name":null,"original":{"line":39,"column":0},"generated":{"line":1,"column":166}},{"source":"app.ts","name":null,"original":{"line":39,"column":0},"generated":{"line":1,"column":168}},{"source":"app.ts","name":null,"original":{"line":39,"column":0},"generated":{"line":1,"column":174}},{"source":"app.ts","name":null,"original":{"line":39,"column":0},"generated":{"line":1,"column":178}},{"source":"app.ts","name":null,"original":{"line":39,"column":0},"generated":{"line":1,"column":184}},{"source":"app.ts","name":null,"original":{"line":39,"column":0},"generated":{"line":1,"column":187}},{"source":"app.ts","name":null,"original":{"line":39,"column":0},"generated":{"line":1,"column":189}},{"source":"app.ts","name":null,"original":{"line":39,"column":0},"generated":{"line":1,"column":193}},{"source":"app.ts","name":null,"original":{"line":39,"column":0},"generated":{"line":1,"column":202}},{"source":"app.ts","name":null,"original":{"line":39,"column":0},"generated":{"line":1,"column":204}},{"source":"app.ts","name":null,"original":{"line":39,"column":0},"generated":{"line":1,"column":207}},{"source":"app.ts","name":null,"original":{"line":39,"column":0},"generated":{"line":1,"column":211}},{"source":"app.ts","name":null,"original":{"line":39,"column":0},"generated":{"line":1,"column":213}},{"source":"app.ts","name":null,"original":{"line":39,"column":0},"generated":{"line":1,"column":215}},{"source":"app.ts","name":null,"original":{"line":39,"column":0},"generated":{"line":1,"column":220}},{"source":"app.ts","name":null,"original":{"line":39,"column":0},"generated":{"line":1,"column":222}},{"source":"app.ts","name":null,"original":{"line":39,"column":0},"generated":{"line":1,"column":224}},{"source":"app.ts","name":null,"original":{"line":39,"column":0},"generated":{"line":1,"column":232}},{"source":"app.ts","name":null,"original":{"line":39,"column":0},"generated":{"line":1,"column":234}},{"source":"app.ts","name":null,"original":{"line":39,"column":0},"generated":{"line":1,"column":236}},{"source":"app.ts","name":null,"original":{"line":39,"column":0},"generated":{"line":1,"column":242}},{"source":"app.ts","name":null,"original":{"line":39,"column":0},"generated":{"line":1,"column":255}},{"source":"app.ts","name":null,"original":{"line":39,"column":0},"generated":{"line":1,"column":257}},{"source":"app.ts","name":null,"original":{"line":39,"column":0},"generated":{"line":1,"column":259}},{"source":"app.ts","name":null,"original":{"line":39,"column":0},"generated":{"line":1,"column":263}},{"source":"app.ts","name":null,"original":{"line":39,"column":0},"generated":{"line":1,"column":265}},{"source":"app.ts","name":null,"original":{"line":39,"column":0},"generated":{"line":1,"column":274}},{"source":"app.ts","name":null,"original":{"line":39,"column":0},"generated":{"line":1,"column":277}},{"source":"app.ts","name":null,"original":{"line":39,"column":0},"generated":{"line":1,"column":279}},{"source":"app.ts","name":null,"original":{"line":39,"column":0},"generated":{"line":1,"column":285}},{"source":"app.ts","name":null,"original":{"line":39,"column":0},"generated":{"line":1,"column":290}},{"source":"app.ts","name":null,"original":{"line":39,"column":0},"generated":{"line":1,"column":292}},{"source":"app.ts","name":null,"original":{"line":39,"column":0},"generated":{"line":1,"column":295}},{"source":"app.ts","name":null,"original":{"line":39,"column":0},"generated":{"line":1,"column":298}},{"source":"app.ts","name":null,"original":{"line":39,"column":0},"generated":{"line":1,"column":300}},{"source":"app.ts","name":null,"original":{"line":39,"column":0},"generated":{"line":1,"column":302}},{"source":"app.ts","name":null,"original":{"line":39,"column":0},"generated":{"line":1,"column":308}},{"source":"app.ts","name":null,"original":{"line":39,"column":0},"generated":{"line":1,"column":310}},{"source":"app.ts","name":null,"original":{"line":39,"column":0},"generated":{"line":1,"column":313}},{"source":"app.ts","name":null,"original":{"line":39,"column":0},"generated":{"line":1,"column":318}},{"source":"app.ts","name":null,"original":{"line":39,"column":0},"generated":{"line":1,"column":329}},{"source":"app.ts","name":null,"original":{"line":39,"column":0},"generated":{"line":1,"column":331}},{"source":"app.ts","name":null,"original":{"line":39,"column":0},"generated":{"line":1,"column":337}},{"source":"app.ts","name":null,"original":{"line":39,"column":0},"generated":{"line":1,"column":342}},{"source":"app.ts","name":null,"original":{"line":39,"column":0},"generated":{"line":1,"column":359}},{"source":"app.ts","name":null,"original":{"line":39,"column":0},"generated":{"line":1,"column":368}},{"source":"app.ts","name":null,"original":{"line":39,"column":0},"generated":{"line":1,"column":371}},{"source":"app.ts","name":null,"original":{"line":39,"column":0},"generated":{"line":1,"column":378}},{"source":"app.ts","name":null,"original":{"line":39,"column":0},"generated":{"line":1,"column":381}},{"source":"app.ts","name":null,"original":{"line":39,"column":0},"generated":{"line":1,"column":383}},{"source":"app.ts","name":null,"original":{"line":39,"column":0},"generated":{"line":1,"column":394}},{"source":"app.ts","name":null,"original":{"line":39,"column":0},"generated":{"line":1,"column":396}},{"source":"app.ts","name":null,"original":{"line":39,"column":0},"generated":{"line":1,"column":397}},{"source":"app.ts","name":null,"original":{"line":39,"column":0},"generated":{"line":1,"column":405}},{"source":"app.ts","name":null,"original":{"line":39,"column":0},"generated":{"line":1,"column":409}},{"source":"app.ts","name":null,"original":{"line":39,"column":0},"generated":{"line":1,"column":416}},{"source":"app.ts","name":null,"original":{"line":39,"column":0},"generated":{"line":1,"column":431}},{"source":"app.ts","name":null,"original":{"line":39,"column":0},"generated":{"line":1,"column":439}},{"source":"app.ts","name":null,"original":{"line":39,"column":0},"generated":{"line":1,"column":452}},{"source":"app.ts","name":null,"original":{"line":39,"column":0},"generated":{"line":1,"column":453}},{"source":"app.ts","name":null,"original":{"line":39,"column":0},"generated":{"line":1,"column":460}},{"source":"app.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":464}},{"source":"app.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":470}},{"source":"app.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":472}},{"source":"app.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":474}},{"source":"app.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":482}},{"source":"app.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":494}},{"source":"app.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":496}},{"source":"app.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":498}},{"source":"app.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":506}},{"source":"app.ts","name":null,"original":{"line":7,"column":6},"generated":{"line":1,"column":516}},{"source":"app.ts","name":null,"original":{"line":7,"column":12},"generated":{"line":1,"column":518}},{"source":"app.ts","name":null,"original":{"line":7,"column":12},"generated":{"line":1,"column":520}},{"source":"app.ts","name":null,"original":{"line":9,"column":0},"generated":{"line":1,"column":530}},{"source":"app.ts","name":null,"original":{"line":9,"column":22},"generated":{"line":1,"column":539}},{"source":"app.ts","name":null,"original":{"line":9,"column":34},"generated":{"line":1,"column":541}},{"source":"app.ts","name":null,"original":{"line":9,"column":52},"generated":{"line":1,"column":543}},{"source":"app.ts","name":null,"original":{"line":39,"column":0},"generated":{"line":1,"column":546}},{"source":"app.ts","name":null,"original":{"line":39,"column":0},"generated":{"line":1,"column":553}},{"source":"app.ts","name":null,"original":{"line":39,"column":0},"generated":{"line":1,"column":555}},{"source":"app.ts","name":null,"original":{"line":39,"column":0},"generated":{"line":1,"column":565}},{"source":"app.ts","name":null,"original":{"line":39,"column":0},"generated":{"line":1,"column":572}},{"source":"app.ts","name":null,"original":{"line":39,"column":0},"generated":{"line":1,"column":574}},{"source":"app.ts","name":null,"original":{"line":11,"column":6},"generated":{"line":1,"column":586}},{"source":"app.ts","name":null,"original":{"line":13,"column":6},"generated":{"line":1,"column":590}},{"source":"app.ts","name":null,"original":{"line":13,"column":34},"generated":{"line":1,"column":661}},{"source":"app.ts","name":null,"original":{"line":13,"column":46},"generated":{"line":1,"column":666}},{"source":"app.ts","name":null,"original":{"line":16,"column":6},"generated":{"line":1,"column":671}},{"source":"app.ts","name":null,"original":{"line":16,"column":8},"generated":{"line":1,"column":676}},{"source":"app.ts","name":null,"original":{"line":16,"column":23},"generated":{"line":1,"column":686}},{"source":"app.ts","name":null,"original":{"line":16,"column":23},"generated":{"line":1,"column":688}},{"source":"app.ts","name":null,"original":{"line":16,"column":29},"generated":{"line":1,"column":696}},{"source":"app.ts","name":null,"original":{"line":16,"column":33},"generated":{"line":1,"column":700}},{"source":"app.ts","name":null,"original":{"line":16,"column":38},"generated":{"line":1,"column":703}},{"source":"app.ts","name":null,"original":{"line":16,"column":44},"generated":{"line":1,"column":709}},{"source":"app.ts","name":null,"original":{"line":16,"column":52},"generated":{"line":1,"column":717}},{"source":"app.ts","name":null,"original":{"line":16,"column":60},"generated":{"line":1,"column":724}},{"source":"app.ts","name":null,"original":{"line":17,"column":6},"generated":{"line":1,"column":728}},{"source":"app.ts","name":null,"original":{"line":17,"column":8},"generated":{"line":1,"column":733}},{"source":"app.ts","name":null,"original":{"line":17,"column":17},"generated":{"line":1,"column":736}},{"source":"app.ts","name":null,"original":{"line":17,"column":22},"generated":{"line":1,"column":738}},{"source":"app.ts","name":null,"original":{"line":17,"column":35},"generated":{"line":1,"column":749}},{"source":"app.ts","name":null,"original":{"line":19,"column":9},"generated":{"line":1,"column":752}},{"source":"app.ts","name":null,"original":{"line":19,"column":9},"generated":{"line":1,"column":759}},{"source":"app.ts","name":null,"original":{"line":22,"column":0},"generated":{"line":1,"column":763}},{"source":"app.ts","name":null,"original":{"line":22,"column":15},"generated":{"line":1,"column":772}},{"source":"app.ts","name":null,"original":{"line":22,"column":20},"generated":{"line":1,"column":774}},{"source":"app.ts","name":null,"original":{"line":22,"column":34},"generated":{"line":1,"column":776}},{"source":"app.ts","name":null,"original":{"line":39,"column":0},"generated":{"line":1,"column":779}},{"source":"app.ts","name":null,"original":{"line":39,"column":0},"generated":{"line":1,"column":786}},{"source":"app.ts","name":null,"original":{"line":39,"column":0},"generated":{"line":1,"column":788}},{"source":"app.ts","name":null,"original":{"line":39,"column":0},"generated":{"line":1,"column":798}},{"source":"app.ts","name":null,"original":{"line":39,"column":0},"generated":{"line":1,"column":805}},{"source":"app.ts","name":null,"original":{"line":39,"column":0},"generated":{"line":1,"column":807}},{"source":"app.ts","name":null,"original":{"line":24,"column":6},"generated":{"line":1,"column":819}},{"source":"app.ts","name":null,"original":{"line":24,"column":6},"generated":{"line":1,"column":823}},{"source":"app.ts","name":null,"original":{"line":24,"column":8},"generated":{"line":1,"column":829}},{"source":"app.ts","name":null,"original":{"line":24,"column":18},"generated":{"line":1,"column":832}},{"source":"app.ts","name":null,"original":{"line":25,"column":6},"generated":{"line":1,"column":834}},{"source":"app.ts","name":null,"original":{"line":25,"column":18},"generated":{"line":1,"column":836}},{"source":"app.ts","name":null,"original":{"line":25,"column":29},"generated":{"line":1,"column":847}},{"source":"app.ts","name":null,"original":{"line":25,"column":35},"generated":{"line":1,"column":849}},{"source":"app.ts","name":null,"original":{"line":26,"column":6},"generated":{"line":1,"column":860}},{"source":"app.ts","name":null,"original":{"line":26,"column":17},"generated":{"line":1,"column":862}},{"source":"app.ts","name":null,"original":{"line":26,"column":28},"generated":{"line":1,"column":873}},{"source":"app.ts","name":null,"original":{"line":26,"column":34},"generated":{"line":1,"column":875}},{"source":"app.ts","name":null,"original":{"line":28,"column":6},"generated":{"line":1,"column":885}},{"source":"app.ts","name":null,"original":{"line":28,"column":6},"generated":{"line":1,"column":888}},{"source":"app.ts","name":null,"original":{"line":28,"column":12},"generated":{"line":1,"column":894}},{"source":"app.ts","name":null,"original":{"line":28,"column":26},"generated":{"line":1,"column":898}},{"source":"app.ts","name":null,"original":{"line":28,"column":32},"generated":{"line":1,"column":904}},{"source":"app.ts","name":null,"original":{"line":30,"column":4},"generated":{"line":1,"column":907}},{"source":"app.ts","name":null,"original":{"line":29,"column":4},"generated":{"line":1,"column":919}},{"source":"app.ts","name":null,"original":{"line":29,"column":8},"generated":{"line":1,"column":921}},{"source":"app.ts","name":null,"original":{"line":29,"column":15},"generated":{"line":1,"column":928}},{"source":"app.ts","name":null,"original":{"line":29,"column":20},"generated":{"line":1,"column":933}},{"source":"app.ts","name":null,"original":{"line":29,"column":25},"generated":{"line":1,"column":938}},{"source":"app.ts","name":null,"original":{"line":33,"column":6},"generated":{"line":1,"column":979}},{"source":"app.ts","name":null,"original":{"line":33,"column":6},"generated":{"line":1,"column":983}},{"source":"app.ts","name":null,"original":{"line":33,"column":22},"generated":{"line":1,"column":991}},{"source":"app.ts","name":null,"original":{"line":33,"column":34},"generated":{"line":1,"column":993}},{"source":"app.ts","name":null,"original":{"line":33,"column":44},"generated":{"line":1,"column":995}},{"source":"app.ts","name":null,"original":{"line":34,"column":2},"generated":{"line":1,"column":998}},{"source":"app.ts","name":null,"original":{"line":34,"column":6},"generated":{"line":1,"column":1000}},{"source":"app.ts","name":null,"original":{"line":34,"column":11},"generated":{"line":1,"column":1005}},{"source":"app.ts","name":null,"original":{"line":9,"column":0},"generated":{"line":1,"column":1010}},{"source":"app.ts","name":null,"original":{"line":9,"column":0},"generated":{"line":1,"column":1018}},{"source":"app.ts","name":null,"original":{"line":9,"column":0},"generated":{"line":1,"column":1030}},{"source":"app.ts","name":null,"original":{"line":37,"column":0},"generated":{"line":1,"column":1032}},{"source":"app.ts","name":null,"original":{"line":37,"column":4},"generated":{"line":1,"column":1034}},{"source":"app.ts","name":null,"original":{"line":37,"column":8},"generated":{"line":1,"column":1038}},{"source":"app.ts","name":null,"original":{"line":37,"column":17},"generated":{"line":1,"column":1046}},{"source":"app.ts","name":null,"original":{"line":39,"column":0},"generated":{"line":1,"column":1049}},{"source":"app.ts","name":null,"original":{"line":39,"column":0},"generated":{"line":1,"column":1057}},{"source":"app.ts","name":null,"original":{"line":39,"column":15},"generated":{"line":1,"column":1065}}],"sources":{"app.ts":"import express from 'express'\nimport { Request, Response } from 'express'\nimport axios from 'axios'\nimport { isNumber } from 'util'\nimport { NextFunction } from 'connect'\n\nconst app = express()\n\nexport async function get_weather(latitude: number, longitude: number): Promise<string> {\n  // prepare the url\n  let api_key = '94b94c1b80852a2bac43f4432546fea3'\n  let base = 'https://api.darksky.net/forecast'\n  let url = `${base}/${api_key}/${latitude},${longitude}`\n\n  // make request\n  let { data } = await axios.get(url).catch(console.log) || {}\n  let { icon } = data.currently || {}\n\n  return icon\n}\n\nasync function song(req: Request, res: Response) {\n  // parse GET query\n  let { query } = req\n  let longitude = parseFloat(query.longitude)\n  let latitude = parseFloat(query.latitude)\n\n  if (isNaN(longitude) || isNaN(latitude)) {\n    res.status(400).send('Latitude and longitude must be number')\n    return\n  }\n\n  let weather = await get_weather(latitude, longitude)\n  res.send(weather)\n}\n\napp.get('/song', song)\n\nexport default app\n"},"lineCount":null}},"error":null,"hash":"f9a39b81ddeec61a271c7c1116e37a18","cacheData":{"env":{}}}